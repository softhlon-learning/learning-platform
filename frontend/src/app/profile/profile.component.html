<div class="main">
    <div>
        <button [routerLink]="['/home']">Home [h]</button>
    </div>
    <div class="container">
        <div>
            <div class="title">
                Profile
            </div>
            <div class="info">
                {{ profile?.email }}
            </div>
        </div>
        <form (ngSubmit)="onSubmit()" [formGroup]="profileForm">
            <div *ngIf="accountToBeDeleted == false" class="form">
                <div *ngIf="!accountDeleted">
                    <div class="name">
                        <input formControlName="name" placeholder="Name" type="text">
                    </div>
                </div>
                <button *ngIf="!accountDeleted" class="submit" type="submit">Save</button>
                <button (click)="deleteAccount()" *ngIf="!accountDeleted" class="delete">Delete Account</button>
                <div class="feedback">
                    <div *ngIf="error" class="error">{{ error }}</div>
                    <div *ngIf="success" class="success">{{ success }}</div>
                </div>
            </div>
            <div *ngIf="accountToBeDeleted == true && !accountDeleted" class="form">
                <div style="text-align: center; margin-bottom: 50px">Are you sure you want to delete your account? This
                    operation is irreversible
                </div>
                <button (click)="doNotDeleteAccount()" class="cancel" >No, do not delete</button>
                <button (click)="confirmDeleteAccount()" class="delete">Yes, delete account
                </button>
                <div class="feedback">
                    <div *ngIf="error" class="error">{{ error }}</div>
                    <div *ngIf="success" class="success">{{ success }}</div>
                </div>
            </div>
        </form>
    </div>
</div>

<app-footer></app-footer>
